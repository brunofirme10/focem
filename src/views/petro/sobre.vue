<template>
<div>
    <cover img="pg/cover-header.jpg"/>
    <section id="petro" class="interna">
      <div class="grid-container">
        <div class="grid-x grid-padding-x grid-padding-y align-center text-center">
            <div class="cell medium-9">
              <h1>FOCEM PETRÓLEO & GÁS</h1>
              <div class="grid-container">
                <div class="grid-x grid-padding-x align-center">
                  <div class="cell medium-6">
                    <h3>Fundo para Convergência Estrutural do Mercosul</h3>
                  </div>
                </div>
              </div>
            </div>
        </div>
        <div class="grid-x grid-padding-x grid-padding-y align-center">
            <div class="cell medium-1">&nbsp;</div>
          <div class="cell medium-4">
              <div class="content__scrollable">
                  <p>O Projeto de Adensamento e Complementação Automotiva no âmbito do Mercosul (FOCEM Automotivo) é uma iniciativa executada pela ABDI, com recursos majoritariamente provenientes do FOCEM, que foi aprovada em 2010.</p>
                  <p>Finalidade: fortalecer a competitividade de PMEs - pequenas e médias empresas fornecedoras (ou potenciais fornecedoras) de bens e serviços para a cadeia produtiva, em especial a indústria de autopeças.</p>
                  <p>Como: por meio da extensão produtiva e tecnológica (melhoria de processos técnicos e gerenciais, produtos e infraestrutura) e abertura de mercado (realização de encontros comerciais/rodadas de negócio) e estímulo à inovação e desenvolvimento tecnológico.</p>
              </div>
          </div>

          <div class="cell medium-4">
            <img src="@/assets/img/refinaria.png" alt="">
          </div>
        </div>
      </div>
      <div class="grid-container full">
        <div class="grid-x">
          <div class="cell text-center">
            <a class="action">
                <svg class="arrow-down">
                    <text x="-26" y="-10" class="text">EXPLORAR</text>
                    <path class="a1" d="M0 0 L15 16 L30 0"></path>
                    <path class="a2" d="M0 10 L15 26 L30 10"></path>
                    <path class="a3" d="M0 20 L15 36 L30 20"></path>
                </svg>
            </a>
            <div class="choose-section space">
              <div class="grid-container">
                <div class="grid-x grid-padding-x">
                    <div class="medium-5 cell">
                      <div class="infographic">
                        <div class="infographic__data">
                          <h1 class="dot">Público-alvo</h1>
                          <div class="grid-x">
                            <div class="small-9 cell">
                              <h2>99 empresas  que participam  deste projeto. </h2>
                            </div>
                            <div class="small-3 cell">
                              <img src="@/assets/img/pg/icon-empresa.png" alt="">
                            </div>
                          </div>
                           </div>
                        <div class="infographic__score">
                          <h1>34<span>BRASIL</span></h1>
                        </div>
                        <div class="infographic__text dot">
                          <p>As empresas beneficiadas
                              pelo projeto foram escolhidas
                              a partir da identificação
                              de sua capacidade potencial
                              de atender às demandas
                              das empresas-âncoras
                              do setor no Mercosul
                              por itens estratégicos
                              e de baixa competitividade,
                              com dificuldade de suprimento ou que
                              precisam ser importados
                              de fora da zona do bloco.
                              </p>
                        </div>
                      </div>
                    </div>
                    <div class="medium-1 cell">&nbsp;</div>
                    <div class="medium-6 cell">
                      <img src="@/assets/img/focem-auto/auto-map--dinamico.png" alt="">
                    </div>
                </div>
              </div>
            </div>
            </div>
        </div>
      </div>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="cell">
            <div class="tabs-section">
              <div class="tab">
                <input class="tab-radio" type="radio" id="tab-1" name="tab-group-1" checked>
                <label class="tab-label" for="tab-1">TIMELINE</label>
                <div class="tab-panel">
                  <div class="tab-content">
                   <div class="timeline__slideshow">
                     <!-- <div class="pagination__slide">
                        <div class="item is-active">
                          <span class="icon">2015</span>
                        </div>
                        <div class="item">
                          <span class="icon">2014</span>
                        </div>
                        <div class="item">
                          <span class="icon">2013</span>
                        </div>
                      </div> -->
                      <div class="timeline__slides">

                        <div class="timeline__slide is-active">
                          <div class="timeline__slide_img">
                            <img src="@/assets/img/pg/timeline/ilustracao.png" alt="">
                          </div>
                          <div class="timeline__slide_content">
                            <div class="timeline__slide_content__title"></div>
                            <div class="timeline__slide_content__text">
                              <p> 1 Seleção com base em critérios de inserção na cadeia, faturamento bruto anual e presença na região de abrangência do projeto.</p>
                              <p>Executores: Dinamus Consultoria </p>
                            </div>
                          </div>
                        </div>
                        <div class="timeline__slide">
                          <div class="timeline__slide_img">
                            <img src="@/assets/img/pg/timeline/ilustracao.png" alt="">
                          </div>
                          <div class="timeline__slide_content">
                            <div class="timeline__slide_content__title"></div>
                            <div class="timeline__slide_content__text">
                              <p>2 Seleção com base em critérios de inserção na cadeia, faturamento bruto anual e presença na região de abrangência do projeto.</p>
                              <p>Executores: Dinamus Consultoria </p>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="pagination__slide">
                        <div class="item is-active">
                            <h1>2015</h1>
                            <h3>Estudo de mercado </h3>
                            <p>(maio a outubro/2014)</p>
                        </div>
                        <div class="item">
                            <h1>2014</h1>
                            <h3>Estudo de mercado </h3>
                            <p>(maio a outubro/2014)</p>
                        </div>
                      </div>
                       <div class="arrows">
                      <div class="arrow prev">
                        <span class="svg svg-arrow-left">
                          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="25px" height="36px" viewBox="0 0 14 26" enable-background="new 0 0 25 36" xml:space="preserve"> <path d="M13,26c-0.256,0-0.512-0.098-0.707-0.293l-12-12c-0.391-0.391-0.391-1.023,0-1.414l12-12c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414L2.414,13l11.293,11.293c0.391,0.391,0.391,1.023,0,1.414C13.512,25.902,13.256,26,13,26z"/> </svg>
                          <span class="alt sr-only"></span>
                        </span>
                      </div>
                      <div class="arrow next">
                        <span class="svg svg-arrow-right">
                          <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="25px" height="36px" viewBox="0 0 14 26" enable-background="new 0 0 25 36" xml:space="preserve"> <path d="M1,0c0.256,0,0.512,0.098,0.707,0.293l12,12c0.391,0.391,0.391,1.023,0,1.414l-12,12c-0.391,0.391-1.023,0.391-1.414,0s-0.391-1.023,0-1.414L11.586,13L0.293,1.707c-0.391-0.391-0.391-1.023,0-1.414C0.488,0.098,0.744,0,1,0z"/> </svg>
                          <span class="alt sr-only"></span>
                        </span>
                      </div>
                    </div>
                   </div>

                  </div>
                </div>
              </div>
              <div class="tab">
                <input class="tab-radio" type="radio" id="tab-2" name="tab-group-1">
                <label class="tab-label" for="tab-2">PARCEIROS</label>
                <div class="tab-panel">
                  <div class="tab-content">
                    <partners :list="partners"/>
                  </div>
                </div>
              </div>
              <div class="tab">
                <input class="tab-radio" type="radio" id="tab-3" name="tab-group-1">
                <label class="tab-label" for="tab-3">RESULTADOS</label>
                <div class="tab-panel">
                  <div class="tab-content"> 
                  </div>
                </div>
              </div>
              <div class="tab" @click=" tabSelected = 'gallery' ">
                <input class="tab-radio" type="radio" id="tab-4" name="tab-group-1">
                <label class="tab-label" for="tab-4" >GALERIA</label>
                <div class="tab-panel">
                  <div class="tab-content">
                    <gallery :images="gallery" v-if="tabSelected.includes('gallery')"/>
                  </div>
                </div>
              </div>
              <div class="tab">
                <input class="tab-radio" type="radio" id="tab-5" name="tab-group-1">
                <label class="tab-label" for="tab-5">DOWNLOADS</label>
                <div class="tab-panel">
                  <div class="tab-content">
                    <h2> Central de Downloads </h2>
                    <hr/>
                    <downloads :list="downloads"/>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </section>
</div>
</template>

<script>
import AboutComponents from '@/layout/components/About'
import api from '@/api/pt_br'
export default {
  components: {
    ...AboutComponents
  },
  data: (app) => ({
    downloads: _.cloneDeep(api.pg.downloads),
    partners: _.cloneDeep(api.pg.partners),
    gallery: _.cloneDeep(api.pg.gallery),
    tabSelected: 'timeline'
  }),
  mounted() {
      this.renderTabs()
  },
  methods: {
    renderTabs() {
      (function($) {
        $('.tabs input[type="radio"]:checked').closest('.tab').addClass('checked');

        $('section').on('click', '.tabs input', function() {
            $('input[name="' + this.name + '"]')
            .closest('.tab')
            .removeClass('checked');
            $(this)
            .closest('.tab')
            .addClass('checked');
          });
          //SLIDESHOW
        function slideshowSwitch(slideshow,index,auto, paginationItem){
            var slides = slideshow.find('.timeline__slide');
            var activeSlide = slides.filter('.is-active');

            TweenMax.to(activeSlide, .4, {alpha: 0, onComplete: function(){
              activeSlide.removeClass('is-active');
              TweenMax.set(activeSlide, { alpha: 0,  display:'hide'});
            }});

            var newSlide = slides.eq(index);
            TweenMax.set(newSlide, { alpha: 0,  display:'block'});

            TweenMax.to(newSlide, .4, {alpha: 1});
            newSlide.addClass('is-active');

            TweenMax.set(paginationItem, { scale: .7 });
             TweenMax.to(paginationItem, .4, {scale: 1, x: 0 , onComplete: function(){
              paginationItem.removeClass('is-active');
              // TweenMax.set(paginationItem, { alpha: 0,  display:'hide'});
            }});
            // if(newSlide.is(activeSlide))return;

        }

          function slideshowNext(slideshow,previous,auto){
            var slides= slideshow.find('.timeline__slide');
            var activeSlide=slides.filter('.is-active');
            var newSlide=null;

            var paginationItem = null;
            var paginations = slideshow.find('.pagination__slide .item');
            var activePaginationItem = paginations.filter('.is-active');

            if(previous){
              newSlide = activeSlide.prev('.timeline__slide');
              if(newSlide.length === 0) {
                newSlide=slides.last();
              }
            } else {
              newSlide=activeSlide.next('.timeline__slide');
              if(newSlide.length==0)
                newSlide=slides.filter('.timeline__slide').first();

              paginationItem = activePaginationItem.next('.item');
              if(paginationItem.length==0)
                paginationItem=paginations.filter('.paginations').first();
            }
            slideshowSwitch(slideshow, newSlide.index(), auto, paginationItem );
          }
          $('.timeline__slideshow .arrows .arrow').on('click',function(){
            slideshowNext($(this).closest('.timeline__slideshow'), $(this).hasClass('prev'));
          });

        })(window.jQuery);
    }
  }
}
</script>
